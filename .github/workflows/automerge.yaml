name: automerge PRs

on:
    pull_request:
        types:
            - labeled
            - unlabeled
            - synchronize
            - opened
            - edited
            - ready_for_review
            - reopened
            - unlocked
    pull_request_review:
        types:
            - submitted

jobs:
    automerge:
        if: github.head_ref == 'development' && github.base_ref == 'master'
        runs-on: ubuntu-latest
        steps:
            -   name: automerge
                uses: pascalgn/automerge-action@v0.6.1
                env:
                    GITHUB_TOKEN: ${{ secrets.PROMOTION_TOKEN }}
